<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>橡皮圆圈绘制</title>
    <style type="text/css">
    body {
        background-color: #eee;
    }
    
    #canvas {
        background-color: #fff;
        cursor: pointer;
        margin-left: 10px;
        margin-top: 10px;
        box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.5);
    }
    </style>
</head>

<body>
    <div id="controls">
        Stroke Color:
        <select id="strokeStyleSheet">
            <option value="red">red</option>
            <option value="green">green</option>
            <option value="blue">blue</option>
            <option value="orange">orange</option>
            <option value="cornflowerblue" selected="selected">cornflowerblue</option>
            <option value="goldenrod">goldenrod</option>
            <option value="navy">navy</option>
            <option value="purple">purple</option>
        </select>
        Guidewires:
        <input type="checkbox" id="guidewireCheckbox" checked />
        <input type="button" name="eraseBtn" id="eraseBtn" value="Erase All" />
    </div>
    <canvas id="canvas" width="600" height="400">
        canvas do not support.
    </canvas>
   <script type="text/javascript">
        var canvas = document.getElementById('canvas'),
            context = canvas.getContext('2d');

        var dragging = false,
            mousedown = {
                x: 0,
                y: 0
            };

       // 绘制网格
       function drawGrid(color, stepx, stepy) {
           context.strokeStyle = color;
           context.lineWidth = 0.5;
           //绘制竖线
           for (var i = stepx + 0.5; i < context.canvas.width; i += stepx) {
               context.beginPath();
               context.moveTo(i, 0);
               context.lineTo(i, context.canvas.height);
               context.stroke();
           }
           // 绘制横线
           for (var i = stepy + 0.5; i < context.canvas.height; i += stepy) {
               context.beginPath();
               context.moveTo(0, i);
               context.lineTo(context.canvas.width, i);
               context.stroke();
           }
       }


       drawGrid('lightgray', 10, 10);
       canvas.mousedown = function(e){
            mousedown = {
                x: e.clientX,
                y: e.clientY
            }
            dragging = true;
       }
       canvas.mousemove = function(e){
       // var start = e.cli
       }

       canvas.mouseup = function(e){
            //mousedown = 
       }

       // parameter x, y => clientX, clientY
       function windowToCanvas(x, y){
            var cvsBounding = canvas.getBoundingClientRect();
       }


   </script>
</body>

</html>